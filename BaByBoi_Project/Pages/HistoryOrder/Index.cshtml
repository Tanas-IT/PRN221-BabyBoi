@page
@model BaByBoi_Project.Pages.HistoryOrder.IndexModel
@{
}
<!-- Fonts and icons -->
<script src="/assets/js/plugin/webfont/webfont.min.js"></script>
<script>
    WebFont.load({
        google: { families: ["Public Sans:300,400,500,600,700"] },
        custom: {
            families: [
                "Font Awesome 5 Solid",
                "Font Awesome 5 Regular",
                "Font Awesome 5 Brands",
                "simple-line-icons",
            ],
            urls: ["/assets/css/fonts.min.css"],
        },
        active: function () {
            sessionStorage.fonts = true;
        },
    });
</script>
<div class="table-responsive">
    <table id="add-row"
           class="display table table-striped table-hover">
        <thead>
            <tr>
                <th>OrderCode</th>
                <th>OrderDate</th>
                <th>Address</th>
                <th>Description</th>
                <th>Status</th>
                <th>PaymentMethod</th>
                <th>Voucher</th>
                <th>TotalProduct</th>
                <th>TotalPrice</th>
                <th style="width: 10%">Details</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var order in Model.ListHistoryOrderPagin)
            {
                <tr>
                    <td>@order.OrderCode</td>
                    <td>@order.OrderDate?.ToString("dd-MM-yyyy")</td>
                    <td>
                       @order.Address
                    </td>
                    <td>@order.Description</td>
                    @if (order.Status == 1)
                    {
                        <td>
                            <span style="display: block;
                                         border: 1px solid;
                                         padding: 5px;
                                         border-radius: 8px;
                                         background-color: #31ce36;
                                         font-weight: bold;
                                         text-align: center;
                                         color: white;">Payment Success</span>
                        </td>
                    }
                    else
                    {
                        <td>
                            <span style="display: block;
                                         border: 1px solid;
                                         padding: 5px;
                                         border-radius: 8px;
                                         background-color: red;
                                         font-weight: bold; 
                                         text-align: center;
                                         color: white;">Payment Failed</span>
                        </td>
                    }
                    <td>@order.Payment.PaymentName</td>
                    <td>@order.Voucher.Percent</td>
                    <td>@order.TotalProduct</td>
                    <td>@order.TotalPrice</td>
                    <td>
                        <div class="form-button-action">
                            <button type="button"
                                    title=""
                                    class="btn btn-link btn-lg"
                                    data-original-title="View Order Detail">
                                <div>
                                    <a asp-page="Detail" asp-route-orderId="@order.OrderId" style="text-decoration: none">
                                        <i class="fa fa-eye"></i>
                                    </a>                                
                                    </div>
                            </button>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <nav aria-label="..." style="display: flex; justify-content: center">
        <ul class="pagination">
            @if (Model.CurrentIndex > 1)
            {
                <li class="page-item">
                    <a asp-route-PageIndex="@(Model.CurrentIndex - 1)" asp-route-PageSize="5" class="page-link" tabindex="-1">Previous</a>
                </li>
            }
            else
            {
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1">Previous</a>
                </li>
            }
            @for (int i = 1; i <= Model.TotalPage; i++)
            {
                <li style="margin: 0 10px;" class="page-item @(Model.CurrentIndex == i ? "active" : "")"><a asp-route-PageIndex="@i" asp-route-PageSize="5" class="page-link">@i</a></li>
            }
            @if (Model.CurrentIndex < Model.TotalPage)
            {
                <li class="page-item"><a asp-route-PageIndex="@(Model.CurrentIndex + 1)" asp-route-PageSize="5" class="page-link">Next</a></li>
            }
            else
            {
                <li class="page-item disabled"><a class="page-link">Next</a></li>
            }
        </ul>
    </nav>
</div>
<script src="/assets/js/core/jquery-3.7.1.min.js"></script>
<script src="/assets/js/core/popper.min.js"></script>
<script src="/assets/js/core/bootstrap.min.js"></script>